* Haskell to Web compilation survey

There are three haskell to web compilers in varying maturity levels.
- [[https://github.com/ghcjs/ghcjs][ghcjs]] the oldest haskell to web compiler that produces JavaScript.
- [[https://github.com/tweag/asterius][Asterius]] a haskell to webassembly compiler.
- [[https://github.com/WebGHC][WebGHC]] a webassembly code generator for ghc.

** Building

Please refer to the relevant notes regarding building of the
compilers.

|          | Linux | macOS | Windows |
| ghcjs    | Yes   | Yes   |         |
| Asterius |       |       |         |
| WebGHC   | Yes   | Yes   |         |

Notes: [[ghcjs-build-notes.org][ghcjs]]

** Features

** Compiling applications / libraries

A selection of [[http://haskell-miso.org][miso]] apps (these do not require TH).

- ghcjs build command
#+BEGIN_SRC bash
for a in todo-mvc mario flatris snake 2048 simple
do cabal new-build --project-file=ghcjs.project --ghcjs exe:$a -fexamples --allow-newer
done
#+END_SRC

- Asterius build command
#+BEGIN_SRC bash

#+END_SRC

- WebGHC build command
#+BEGIN_SRC bash
for a in todo-mvc mario flatris snake 2048 simple
do wasm32-unknown-unknown-wasm-cabal new-build --project-file=webghc.project exe:$a -fjsaddle-wasm -fexamples --allow-newer
done
#+END_SRC

|          | ghcjs (total) | Asterius | WebGHC (total; wasm only) |
| todo-mvc | [[https://angerman.github.io/haskell-to-web/ghcjs/todo-mvc.jsexe/index.html][link]] (5.2M)   |          | [[https://angerman.github.io/haskell-to-web/webghc/todo-mvc/index.html][link]] (18M; 4.6M)          |
| mario    | [[https://angerman.github.io/haskell-to-web/ghcjs/mario.jsexe/index.html][link]] (4.0M)   |          | [[https://angerman.github.io/haskell-to-web/webghc/mario/index.html][link]] (18M; 4.5M)          |
| flatris  | [[https://angerman.github.io/haskell-to-web/ghcjs/flatris.jsexe/index.html][link]] (7.6M)   |          | [[https://angerman.github.io/haskell-to-web/webghc/flatris/index.html][link]] (18M; 5.2M)          |
| snake    | :(            |          | :(                        |
| 2048     | [[https://angerman.github.io/haskell-to-web/ghcjs/2048.jsexe/index.html][link]] (5.4M)   |          | [[https://angerman.github.io/haskell-to-web/webghc/2048/index.html][link]] (18M; 4.7M)          |
| simple   | [[https://angerman.github.io/haskell-to-web/ghcjs/simple.jsexe/index.html][link]] (3.8M)   |          | [[https://angerman.github.io/haskell-to-web/webghc/simple/index.html][link]] (18M; 4.4M)          |
